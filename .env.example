###############################################
# Frontend (Vite)
###############################################
VITE_API_URL=http://localhost:3333/api/v1

###############################################
# Backend API
###############################################
# Ambiente
NODE_ENV=development
PORT=3333
API_VERSION=v1

# Banco de Dados
# Ex.: postgresql://user:password@localhost:5432/medmanager
DATABASE_URL=
REDIS_URL=redis://localhost:6380

# JWT (requer mínimo 32 chars em produção)
JWT_SECRET=
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=
JWT_REFRESH_EXPIRES_IN=7d

# Criptografia (AES-256-GCM)
# Gere uma chave forte (32 bytes) e mantenha em segredo
# Windows PowerShell:
#   [convert]::ToBase64String((New-Object System.Security.Cryptography.RNGCryptoServiceProvider).GetBytes(32))
# Node.js:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=
# Opcional (usado para certificados SEFAZ caso definido)
CERTIFICATE_ENCRYPTION_KEY=

# Uploads
UPLOAD_MAX_SIZE=10mb
UPLOAD_DIR=./uploads

# CORS (em produção, liste domínios separados por vírgula)
# Ex.: https://app.seudominio.com,https://admin.seudominio.com
CORS_ORIGINS=

# Rate Limiting (Geral)
# Janela em ms e máximo de requisições por IP
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000

# Rate Limiting por Tenant
RATE_LIMIT_TENANT_WINDOW_MS=60000
RATE_LIMIT_TENANT_MAX_REQUESTS=1000

# Logs
LOG_LEVEL=info
LOG_FILE=./logs/app.log

# SNGPC/SNCM - Rastreabilidade de Medicamentos (RDC 430/2020)
# Sistema Nacional de Gerenciamento de Produtos Controlados
# Sistema Nacional de Controle de Medicamentos
SNGPC_ENABLED=false
SNGPC_API_URL=https://sngpc.anvisa.gov.br/api/v1
SNGPC_API_KEY=
# Auto sync padrão: desabilitado (habilitado via API)
SNGPC_AUTO_SYNC=false
# Intervalo de sincronização automática (minutos)
SNGPC_SYNC_INTERVAL=60

# Outras
TRUST_PROXY=false

###############################################
# Cloud Storage (Backups)
###############################################
# Provider: aws | azure | local (default: local)
CLOUD_STORAGE_PROVIDER=local

# AWS S3 (se provider = aws)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_S3_BUCKET=medmanager-backups

###############################################
# Observações
###############################################
# - Em desenvolvimento, a proteção CSRF só é aplicada em NODE_ENV=production.
# - O endpoint para obter o token é: GET /api/csrf-token (retorna { csrfToken }).
# - Para login, envie header: X-CSRF-Token: <token> (além do cookie csrf).
# - Endpoints principais:
#     Health:           GET  /health
#     Login master:     POST /api/v1/auth/login
#     Login tenant:     POST /api/v1/auth/login-tenant
# - Limites padrão: geral 1000 req/min; login 5 tentativas/15min.

# Últimos comandos git (comentado)
# git add .;git commit -m "melhorias";git push